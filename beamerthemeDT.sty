%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  		File created: 20 July, 2016                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% This style file is a combination of the four files required to
% create the FAA beamer theme. 
%  1. Inner
%  2. Outer
%  3. Color
%  4. Font

%%% Defining the preamble
\mode<presentation>
\usepackage{pgfcomp-version-0-65}
%\usepackage{graphicx}
%\usepackage{transparent}
%\usepackage{eso-pic}
\usepackage{tikz}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%%		Color theme
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%
% We need to define a set of colours that will be assigned to various
% parts of the presentation 
%%%%%%

%%%%%%
% LaTeX, like R, has a huge set of colours to choose from and there are many ways we can access them.
% Colours in LaTeX are provided by the xcolor pacakge that loads by
% default. However, the xcolor package by itself does not provide
% enough breadth in colours. 
% More colours can be called by using the "dvipsnames" options while
% calling beamer in the preamble of the document, e.g.,
% \documentclass[xolor = dvipsnames]{beamer} 
%
% Other than that we can also blend differnt colours to achive the
% desired colour mix or simply use the RGB codes to call that
% particular color. 
% For blending two colours, we need to specify the two colours
% (Duh-uh!) and the percentage share of the two colours in the
% folowing format: <color1>!<percentage of color1>!<color2> 
% If percentage of color1 is specified as x%, then percentage of
% color2 will automatically be taken as (100 - n)%. 


% Why don't we try out a few options and see for ourselves.   


% Here we are defining only two colours. We are primarily only going
% to use the first one. 
\definecolor{Ftitle}{rgb}{0, 0, 0} % (rgb - 0, 0, 0) is nothing but black
% Here, we are using "rgb" in small case and this notation for decimal
% values of "rgb" ranging from 0 to 1 

% To specify the integer values of "RGB", ranging from 0 t0 255, we
% need to use the "RGB" in CAPS or UPPERCASE 
\definecolor{Descitem}{RGB}{0, 0, 139} % Darkish blue

\definecolor{RedTitle}{RGB}{180, 0, 0}
\definecolor{BlueBody}{RGB}{0, 0, 150}

\definecolor{StdTitle}{RGB}{26, 33, 141}
\definecolor{StdBody}{RGB}{213,24,0}

\definecolor{AlTitle}{RGB}{255, 190, 190}
\definecolor{AlBody}{RGB}{213,24,0}

\definecolor{ExTitle}{RGB}{201, 217, 217}
\definecolor{ExBody}{RGB}{213,24,0}


% Another color for the background canvas using the blending option 
%\definecolor{BgShade}{red!30!white}
%%% Important note: While trying this, I found out that a colour
%%% cannot be defined this way, it can only be set or called for a
%%% particular feature using the \setbeamercolor{}{} command. We will
%%% use this below to show this. 



%%%%%%
% Assign colours to different constitutens of the presentation as per
% the requriements. 
%%%%%%

% This sets the colour of the title of the presentation and titles of
% all the slides in the presentation to black. 
\setbeamercolor{frametitle}{fg = RedTitle}
\setbeamercolor{title}{fg = RedTitle}

% In case you choose to display the Table of Contents, or the Outline
% slide. 
\setbeamercolor{section in toc}{fg = Ftitle}
\setbeamercolor{section in toc shaded}{fg = Ftitle} 

% The colour of all the items, subitems and and subsubitems are set to
% black. 
\setbeamercolor{item}{fg = Ftitle}
\setbeamercolor{subitem}{fg = Ftitle}
\setbeamercolor{subsubitem}{fg = Ftitle}

% This sets the color for each item heading of the description
% environment. 
\setbeamercolor{description item}{fg = Descitem}

% NOTE: Setting the color black for all the items also sets in black
% for other environemnts like enumerate. 

% We also need to fix the colours for captions for figures and
% tables. 
\setbeamercolor{caption}{fg = Ftitle}
\setbeamercolor{caption name}{fg = Ftitle}

% In addition, we can also change the background colour of the slides
% depending on pur requirement. 
% \setbeamercolor{background canvas}{bg = blue!5} 
% We have commented out this command because this is just for
% illustrative purposes and has not been used to define the background
% colour of the slides. 


%%%%%%
% Now, there are three types of boxes in beamer: 
%   1. Simple, or standard block, which can be invoked using
%      definition or theorem 
%   2. Alert block
%   3. Example block 
% We will customize all these blocks based on our requirements 


% Standard block
%\setbeamercolor{block body}{bg = StdLight}
%\setbeamercolor{block title}{fg = black, bg = Std}

\setbeamercolor{block title}{fg = Descitem, bg = StdTitle!15!white}
\setbeamercolor{block body}{bg = StdBody!5!white}

% Alert block
\setbeamercolor{block title alerted}{bg = AlTitle}
\setbeamercolor{block body alerted}{bg = AlBody!5!white}

% Example block
\setbeamercolor{block title example}{bg = ExTitle}
\setbeamercolor{block body example}{bg = ExBody!5!white}


%%%%%%
% And one final thing, the colour of the text
\setbeamercolor{normal text}{fg = BlueBody}


%% Link settings
%% \hypersetup{
%%   colorlinks = true,
%%   pdfborder = {0 0 1}, 
%%   pdfborderstyle={/S/U/W 1},
%%   urlcolor = {orange},
%%   urlbordercolor = {orange},
%%   linkcolor = {}
%% }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%%		Font theme
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%
% Here we are using default fonts
\usefonttheme{professionalfonts}

% Font for the presentation title
\setbeamerfont{title}{size=\Large}

% Font of the frame titles
\setbeamerfont{frametitle}{size=\Large}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%%		Inner theme
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%
% Here we am using the rounded theme for the overall "feel" of the
% presentation. You can change the specific details by editing that
% particular option as we have done below. 
\useinnertheme{rounded}

% Instead of rounded circles, we will use triangles as the indicator
% for items. 
%\setbeamertemplate{itemize items}[triangle]
\setbeamertemplate{itemize items}[circle]

% The default option for enumerate environment removes the circles
% around the numbers provided by the "rounded" inner theme. Just
% simple numbers remain. 
\setbeamertemplate{enumerate items}[default]



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%%		Outer theme
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%
% The outer theme takes the most amount of effort and time to
% customize.  


%%%%%%
% In the outer theme, we will try to do the following: 
%   1. Change the headline by putting a logo and a horizontal line 
%   2. Change the footline and include custom information depending on
%      our requirements 
%   3. Organize the presentation title and the frame titles 


%%%%%%
% Let's start with the headline. The approach that we plan to take for
% the headline and footline is similar. 
% We will first define a new command and then include the command in
% the \setbeamertemplate{} option. 

% First the horizontal line on the top portion of the slides
% Add a horizontal line that runs from left of the slide to the right,
% just below the logo. 
\newcommand{\LogoLine}{
  \raisebox{-12mm}[0pt][0pt]{%
    \begin{pgfpicture}{0mm}{0mm}{0mm}{0mm}
      \pgfsetlinewidth{0.32mm}
      \color{RedTitle}
      \pgfline{\pgfpoint{0pt}{3.5pt}}{\pgfpoint{300pt}{3.5pt}}
    \end{pgfpicture}
  }
}

% Include the line that we just created in the headline
\setbeamertemplate{headline}[text line]{\LogoLine}


% Now the logo. As it turns out, I could not include the logo in the
% headline. If I tried to, the headline kept shifting downwards. 
% Acting a little smart and lazy, I just included the logo in the
% right sidebar and shifted it up. 
\setbeamertemplate{sidebar canvas left}{
  \vspace*{1pt}\hspace*{-3pt}{
    \includegraphics[height=32pt]{/Users/trocino/Documents/Work/Talks/Template/Figures/NEU_logoseal.png}
  }
}

\setbeamertemplate{sidebar canvas right}{
  \vspace*{3pt}\hspace*{-35pt}{
    \includegraphics[height=28pt]{/Users/trocino/Documents/Work/Talks/Template/Figures/CMS_Color.png}
  }
}


%%%%%
% Now that we have changed the headline, we will need to orient the
% frame titles in a way that the come at the right stop just above the
% horizontal line. 
\setbeamertemplate{frametitle}{
  \vspace*{8pt}\hspace*{6pt}\insertframetitle
}


%%%%%
% Like mentioned above, we will take a similar approach to customize
% the footline as well and include FAA in it. 
%% \newcommand{\Ffootline}{
%%   \color{BlueBody}\insertdate % The left end of the footline
%%   \hfill
%%   \color{RedTitle}\insertauthor\ -- \inserttitle % The center
%%   \hfill
%%   \color{BlueBody}\insertframenumber/\inserttotalframenumber
%% } % And the right end


%% \setbeamertemplate{footline}{%
%%   \usebeamerfont{structure}
%%   \begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex]{title in head/foot}%
%%     \Tiny\hspace*{4pt} \Ffootline \hspace{10pt}
%%   \end{beamercolorbox}
%% }

\setbeamertemplate{footline}{
  \hbox{
    \begin{beamercolorbox}[wd=.10\paperwidth,ht=3.25ex,dp=2ex,left,leftskip=2ex]{date in head/foot}%
      \color{BlueBody}\usebeamerfont{date in head/foot}\insertshortdate{}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.80\paperwidth,ht=3.25ex,dp=2ex,center]{title in head/foot}%
      \color{RedTitle}\usebeamerfont{title in head/foot}\insertshortauthor\ --- \insertshorttitle{}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.10\paperwidth,ht=3.25ex,dp=2ex,right,rightskip=4ex]{date in head/foot}%
      \color{BlueBody}\insertframenumber{}/\inserttotalframenumber
    \end{beamercolorbox}%
  }
}


%%%%%%
% We will also remove the navigation symbols, which I personally don't
% find very useful 
\setbeamertemplate{navigation symbols}{}


%%%%%%
% Now the toughest part--at least for me--customizing the title page. 
% Putting a logo on the title page and text beside it was quite a
% difficult task and to be fairly honest, my code is not effecient at
% all. At the very least, it is plain clumsy. 
% Though it does solve the purpose (I hate to use this phrase) it is
% neither "neat" nor "cool". Anyway, let's see how we went about it. 
% For the title page, we needed a logo on the left, a vertical
% separater line, and finally a place for the title, author, date etc.  


% First, let's create the line
%% \newcommand{\TitleLine}{%
%%   \raisebox{-12mm}[0pt][0pt]{%
%%     \begin{pgfpicture}{0mm}{0mm}{0mm}{0mm}
%%       \pgfsetlinewidth{0.10mm}
%%       \color{gray}
%%       \pgfline{\pgfpoint{55mm}{0mm}}{\pgfpoint{55mm}{50mm}}
%%     \end{pgfpicture}
%%   }
%% }



% Now let's create commands for the title etc., that we can call later

\newcommand{\MyBackgroundDisplay}{
  \tikz\node[opacity=0.3]{
    \includegraphics[width=\textwidth]{/Users/trocino/Documents/Work/Talks/Template/Figures/background_display.png}
  };
}

% Title
\newcommand{\MyTitle}{%
  %\hspace*{60mm}\vspace{-25mm}
  \centering
  \inserttitle
}
  			
% Subtitle  			
\newcommand{\MySubTitle}{%
  %\hspace*{60mm}\vspace{-25mm}
  \centering
  \footnotesize \textit{\insertsubtitle}
}
  		
% Author   		
\newcommand{\MyAuthor}{ 
  %\hspace*{60mm}\vspace{-25mm}
  \centering
  \insertauthor
}
		
% Institute		
\newcommand{\MyInstitute}{ 		
  %\hspace*{60mm}\vspace{-25mm}
  %\flushleft
  \footnotesize \textit{\insertinstitute}}

% Date			
\newcommand{\MyDate}{		
  %\hspace*{60mm}\vspace{-25mm}
  \centering
  \insertdate
}
  	
% We declare the image that will be used as the logo
%\pgfdeclareimage[width = 0.20\paperwidth]{big}{moo.png}

% This is quite a complicated command. We basically create a
% "beamercolorbox" for each field and invoke the commands that we had
% created earlier. 
\setbeamertemplate{title page}{
  %% \TitleLine
  %% \hspace*{11mm}\vspace*{-60mm}
  %% \begin{beamercolorbox}[wd=0.5\paperwidth,ht=0.13\paperwidth]{Title}
  %%   \pgfuseimage{big}
  %% \end{beamercolorbox}

  \vspace{8mm}
  \MyBackgroundDisplay

%
  \vspace{-56mm}		
  \begin{beamercolorbox}[wd=\paperwidth,ht=0.08\paperwidth]{Title}
    \vbox to 0.08\paperwidth{
      \vfill
      %\usebeamerfont{title}%
      \Large
      \color{RedTitle}
      \MyTitle
      \vfill
    }
  \end{beamercolorbox}
%
  \begin{beamercolorbox}[wd=\paperwidth,ht=0.04\paperwidth]{Title}
    \vbox to 0.04\paperwidth{
      \vfill
      %\usebeamerfont{title}%
      \color{RedTitle}
      \MySubTitle
      \vfill
    }
  \end{beamercolorbox}
%
  \begin{beamercolorbox}[wd=\paperwidth,ht=0.08\paperwidth]{Title}
    \vbox to 0.08\paperwidth{
      \vfill
      %\usebeamerfont{title}%
      \color{BlueBody}
      \MyAuthor
      \vfill
    }
  \end{beamercolorbox}
%
  \begin{beamercolorbox}[wd=\paperwidth,ht=0.16\paperwidth,left,leftskip=2.4cm]{Title}
    \vbox to 0.16\paperwidth{
      %\usebeamerfont{head/foot}
      \color{BlueBody}
      \MyInstitute
      \vfill\vfill\vfill
    }
  \end{beamercolorbox}
% 
  \begin{beamercolorbox}[wd=\paperwidth,ht=0.02\paperwidth]{Title}
    %\usebeamerfont{title}%
    \color{BlueBody}
    \MyDate
\end{beamercolorbox}}


\mode
<all>
